{"version":3,"sources":["Components/Searchbar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","App.js","index.js"],"names":["SearchBar","onSubmit","useState","searchQuerry","setSearchQuerry","className","e","preventDefault","trim","toast","warn","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","ImageGalleryItem","querry","page","ontotalHits","onClick","onloading","images","setImages","totalHits","setTotalHits","error","setError","useMemo","useEffect","fetch","then","r","json","hits","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","console","log","finally","map","image","src","webformatURL","largeImageURL","alt","tags","id","ImageGallery","loading","modalRoot","querySelector","Modal","children","onCloseModal","idEscapeEvent","code","addEventListener","removeEventListener","createPortal","target","Button","onLoadMore","App","setQuerry","showModal","setShowModal","largeImg","setLargeImg","setPage","setLoading","imgLength","setImgLength","toggleModal","state","color","height","width","dataset","prev","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"uRAIe,SAASA,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KAeA,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaJ,SAZZ,SAAAK,GACnBA,EAAEC,iBAC0B,KAAxBJ,EAAaK,QAIjBP,EAASE,GACTC,EAAgB,KAJdK,IAAMC,KAAK,oBASX,UACE,wBAAQC,KAAK,SAASN,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVM,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SA1BmB,SAAAT,GACzBF,EAAgBE,EAAEU,cAAcC,QA0B1BA,MAAOd,S,WChCF,SAASe,EAAT,GAMX,IALFC,EAKC,EALDA,OACAC,EAIC,EAJDA,KACAC,EAGC,EAHDA,YACAC,EAEC,EAFDA,QACAC,EACC,EADDA,UAEA,EAA4BrB,mBAAS,IAArC,mBAAOsB,EAAP,KAAeC,EAAf,KACA,EAAkCvB,mBAAS,MAA3C,mBAAOwB,EAAP,KAAkBC,EAAlB,KACA,EAA0BzB,oBAAS,GAAnC,mBAAO0B,EAAP,KAAcC,EAAd,KAEaC,mBAAQ,kBAAML,EAAU,MAAK,CAACN,IAyC3C,OAhCAY,qBAAU,WACR,GAAe,KAAXZ,GAA4B,OAAXA,EAArB,CAIAU,GAAS,GACTN,IAEAS,MAAM,8BAAD,OAC2Bb,EAD3B,iBAC0CC,EAD1C,gBADY,qCACZ,yDAGFa,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAC,GACJT,EAAU,GAAD,mBAAKD,GAAL,YAAgBU,EAAEE,QAC3BT,EAAaO,EAAER,WACfL,EAAYa,EAAER,UAAWF,EAAOa,OAAS,IAC5B,IAATjB,GAtBRkB,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAwBTC,OAAM,SAAAjB,GACLkB,QAAQC,IAAInB,GACZH,EAAU,IACVI,GAAS,GACTR,EAAY,SAEb2B,SAAQ,WACPzB,UAGH,CAACJ,EAAQC,IAEJQ,EAiBN,oBAAIvB,UAAU,QAAd,wCAhBc,IAAdqB,EACEF,EAAOyB,KAAI,SAAAC,GAAK,OACd,oBAAI7C,UAAU,mBAAd,SACE,qBACEiB,QAASA,EACT6B,IAAKD,EAAME,aACX,WAAUF,EAAMG,cAChBC,IAAKJ,EAAMK,KACXlD,UAAU,4BANwB6C,EAAMM,OAW9C,oBAAInD,UAAU,QAAd,iCCjES,SAASoD,EAAT,GAMX,IALFtC,EAKC,EALDA,OACAC,EAIC,EAJDA,KACAM,EAGC,EAHDA,UACAJ,EAEC,EAFDA,QACAoC,EACC,EADDA,QAEA,OACE,oBAAIrD,UAAU,eAAd,SACE,cAACa,EAAD,CACEC,OAAQA,EACRC,KAAMA,EACNC,YAAaK,EACbJ,QAASA,EACTC,UAAWmC,MCdnB,IAAMC,EAAYlB,SAASmB,cAAc,eAE1B,SAASC,EAAT,GAA4C,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,aASxC,SAASC,EAAc1D,GACN,WAAXA,EAAE2D,MACJF,IAUJ,OApBAhC,qBAAU,WAGR,OAFAO,OAAO4B,iBAAiB,UAAWF,GAE5B,WACL1B,OAAO6B,oBAAoB,UAAWH,OAgBnCI,uBACL,qBAAK/D,UAAU,UAAUiB,QAP3B,SAAyBhB,GACnBA,EAAEU,gBAAkBV,EAAE+D,QACxBN,KAKF,SACE,qBAAK1D,UAAU,QAAf,SAAwByD,MAE1BH,GC7BW,SAASW,EAAT,GAAiC,IAAfC,EAAc,EAAdA,WAC/B,OACE,wBAAQlE,UAAU,SAASiB,QAASiD,EAApC,uB,qBCmFWC,MA5Ef,WACE,MAA4BtE,mBAAS,MAArC,mBAAOiB,EAAP,KAAesD,EAAf,KACA,EAAkCvE,oBAAS,GAA3C,mBAAOwE,EAAP,KAAkBC,EAAlB,KACA,EAAgCzE,mBAAS,MAAzC,mBAAO0E,EAAP,KAAiBC,EAAjB,KACA,EAAkC3E,mBAAS,MAA3C,mBAAOwB,EAAP,KAAkBC,EAAlB,KACA,EAAwBzB,mBAAS,GAAjC,mBAAOkB,EAAP,KAAa0D,EAAb,KACA,EAA8B5E,oBAAS,GAAvC,mBAAOwD,EAAP,KAAgBqB,EAAhB,KACA,EAAkC7E,mBAAS,MAA3C,mBAAO8E,EAAP,KAAkBC,EAAlB,KAEMC,EAAc,WAClBP,GAAa,SAAAQ,GAAK,OAAKA,MA6BzB,OAVArC,QAAQC,IAAI,YAAaiC,GACzBlC,QAAQC,IAAI,YAAarB,GAUvB,sBAAKrB,UAAU,UAAf,UACE,cAACL,EAAD,CAAWC,SArBQ,SAAAkB,GACrBsD,EAAUtD,GACV2D,EAAQ,MAoBLpB,GACC,cAAC,IAAD,CACE/C,KAAK,OACLN,UAAU,UACV+E,MAAM,UACNC,OAAQ,GACRC,MAAO,KAGX,cAAC7B,EAAD,CACEtC,OAAQA,EACRC,KAAMA,EACNM,UA7Bc,SAACA,EAAWsD,GACZrD,EAAJ,IAAdD,EAA+B,KAAqBA,GACpDuD,EAAaD,IA4BT1D,QA1Ce,SAAAhB,IACdA,EAAE+D,OAAS,QACda,IAEFL,EAAYvE,EAAEU,cAAcuE,QAAQpC,MAuChCO,QArBY,SAAAyB,GAChBJ,GAAW,SAAAI,GAAK,OAAKA,QAyBjBzD,EAAYsD,GAAa,cAACV,EAAD,CAAQC,WA7BpB,WACjBO,GAAQ,SAAAU,GAAI,OAAIA,EAAO,QA8BpBd,GACC,eAACb,EAAD,CAAOE,aAAcmB,EAArB,UACE,qBAAK/B,IAAKyB,EAAUtB,IAAKnC,IACzB,wBAAQd,UAAU,WAAWM,KAAK,SAASW,QAAS4D,EAApD,kBAKJ,cAAC,IAAD,CAAgBO,SAAS,aAAaC,UAAW,WC5EvDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpD,SAASqD,eAAe,W","file":"static/js/main.93f1f0e6.chunk.js","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport default function SearchBar({ onSubmit }) {\n  const [searchQuerry, setSearchQuerry] = useState('');\n\n  const onSearchFormChange = e => {\n    setSearchQuerry(e.currentTarget.value);\n  };\n  const onSubmitForm = e => {\n    e.preventDefault();\n    if (searchQuerry.trim() === '') {\n      toast.warn('No data entered');\n      return;\n    }\n    onSubmit(searchQuerry);\n    setSearchQuerry('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={onSubmitForm}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={onSearchFormChange}\n          value={searchQuerry}\n        />\n      </form>\n    </header>\n  );\n}\n","import React, { useState, useEffect, useMemo } from 'react';\n\nexport default function ImageGalleryItem({\n  querry,\n  page,\n  ontotalHits,\n  onClick,\n  onloading,\n}) {\n  const [images, setImages] = useState([]);\n  const [totalHits, setTotalHits] = useState(null);\n  const [error, setError] = useState(false);\n\n  const memo = useMemo(() => setImages([]), [querry]);\n\n  const pageDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  useEffect(() => {\n    if (querry === '' || querry === null) {\n      return;\n    }\n\n    setError(false);\n    onloading();\n    const USER_KEY = '22985243-b477986a48324befacd1d8a65';\n    fetch(\n      `https://pixabay.com/api/?q=${querry}&page=${page}&key=${USER_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n      .then(r => r.json())\n      .then(r => {\n        setImages([...images, ...r.hits]);\n        setTotalHits(r.totalHits);\n        ontotalHits(r.totalHits, images.length + 12);\n        if (page !== 1) {\n          pageDown();\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        setImages([]);\n        setError(true);\n        ontotalHits(null);\n      })\n      .finally(() => {\n        onloading();\n      });\n    //\n  }, [querry, page]);\n\n  return !error ? (\n    totalHits !== 0 ? (\n      images.map(image => (\n        <li className=\"ImageGalleryItem\" key={image.id}>\n          <img\n            onClick={onClick}\n            src={image.webformatURL}\n            data-src={image.largeImageURL}\n            alt={image.tags}\n            className=\"ImageGalleryItem-image\"\n          />\n        </li>\n      ))\n    ) : (\n      <h2 className=\"title\"> No match found ...</h2>\n    )\n  ) : (\n    <h2 className=\"title\"> Something goes wrong ... </h2>\n  );\n}\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({\n  querry,\n  page,\n  totalHits,\n  onClick,\n  loading,\n}) {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem\n        querry={querry}\n        page={page}\n        ontotalHits={totalHits}\n        onClick={onClick}\n        onloading={loading}\n      />\n    </ul>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onCloseModal }) {\n  useEffect(() => {\n    window.addEventListener('keydown', idEscapeEvent);\n\n    return () => {\n      window.removeEventListener('keydown', idEscapeEvent);\n    };\n  });\n\n  function idEscapeEvent(e) {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  }\n\n  function onBackdropClick(e) {\n    if (e.currentTarget === e.target) {\n      onCloseModal();\n    }\n  }\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={onBackdropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import React from 'react';\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className=\"Button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport SearchBar from './Components/Searchbar/SearchBar.jsx';\nimport ImageGallery from './Components/ImageGallery/ImageGallery.jsx';\nimport Modal from './Components/Modal/Modal';\nimport Button from './Components/Button/Button.jsx';\nimport Loader from 'react-loader-spinner';\n\nfunction App() {\n  const [querry, setQuerry] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState(null);\n  const [totalHits, setTotalHits] = useState(null);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [imgLength, setImgLength] = useState(null);\n\n  const toggleModal = () => {\n    setShowModal(state => !state);\n  };\n\n  const onImageClick = e => {\n    if ((e.target = 'IMG')) {\n      toggleModal();\n    }\n    setLargeImg(e.currentTarget.dataset.src);\n  };\n\n  const onSearchSubmit = querry => {\n    setQuerry(querry);\n    setPage(1);\n  };\n\n  const onTotalHits = (totalHits, imgLength) => {\n    totalHits === 0 ? setTotalHits(null) : setTotalHits(totalHits);\n    setImgLength(imgLength);\n  };\n  console.log('imgLength', imgLength);\n  console.log('totalHits', totalHits);\n\n  const onLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n  const onLoading = state => {\n    setLoading(state => !state);\n  };\n\n  return (\n    <div className=\"section\">\n      <SearchBar onSubmit={onSearchSubmit} />\n      {loading && (\n        <Loader\n          type=\"Bars\"\n          className=\"spinner\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n        />\n      )}\n      <ImageGallery\n        querry={querry}\n        page={page}\n        totalHits={onTotalHits}\n        onClick={onImageClick}\n        loading={onLoading}\n      />\n\n      {\n        (totalHits > 12,\n        totalHits > imgLength && <Button onLoadMore={onLoadMore} />)\n      }\n      {showModal && (\n        <Modal onCloseModal={toggleModal}>\n          <img src={largeImg} alt={querry} />\n          <button className=\"closeBtn\" type=\"button\" onClick={toggleModal}>\n            X\n          </button>\n        </Modal>\n      )}\n      <ToastContainer position=\"top-center\" autoClose={1500} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}