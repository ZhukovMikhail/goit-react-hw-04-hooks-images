{"version":3,"sources":["Components/Searchbar/SearchBar.jsx","Components/services/fetch.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","App.js","index.js"],"names":["SearchBar","onSubmit","useState","searchQuerry","setSearchQuerry","className","e","preventDefault","trim","toast","warn","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","fetchImg","querry","page","fetch","then","r","json","ImageGalleryItem","ontotalHits","onClick","onloading","images","setImages","totalHits","setTotalHits","error","setError","useMemo","useEffect","hits","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","console","log","finally","map","image","src","webformatURL","largeImageURL","alt","tags","id","ImageGallery","loading","modalRoot","querySelector","Modal","children","onCloseModal","idEscapeEvent","code","addEventListener","removeEventListener","createPortal","target","Button","onLoadMore","App","setQuerry","showModal","setShowModal","largeImg","setLargeImg","setPage","setLoading","imgLength","setImgLength","toggleModal","state","color","height","width","dataset","prev","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.56670beb.chunk.js","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport default function SearchBar({ onSubmit }) {\n  const [searchQuerry, setSearchQuerry] = useState('');\n\n  const onSearchFormChange = e => {\n    setSearchQuerry(e.currentTarget.value);\n  };\n  const onSubmitForm = e => {\n    e.preventDefault();\n    if (searchQuerry.trim() === '') {\n      toast.warn('No data entered');\n      return;\n    }\n    onSubmit(searchQuerry);\n    setSearchQuerry('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={onSubmitForm}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={onSearchFormChange}\n          value={searchQuerry}\n        />\n      </form>\n    </header>\n  );\n}\n","const USER_KEY = '22985243-b477986a48324befacd1d8a65';\r\n\r\nconst fetchImg = (querry, page) =>\r\n  fetch(\r\n    `https://pixabay.com/api/?q=${querry}&page=${page}&key=${USER_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(r => r.json());\r\n\r\nexport default fetchImg;\r\n","import React, { useState, useEffect, useMemo } from 'react';\nimport fetchImg from '../services/fetch';\n\nexport default function ImageGalleryItem({\n  querry,\n  page,\n  ontotalHits,\n  onClick,\n  onloading,\n}) {\n  const [images, setImages] = useState([]);\n  const [totalHits, setTotalHits] = useState(null);\n  const [error, setError] = useState(false);\n\n  const memo = useMemo(() => setImages([]), [querry]);\n\n  const pageDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  useEffect(() => {\n    if (querry === '' || querry === null) {\n      return;\n    }\n    setError(false);\n    onloading();\n    fetchImg(querry, page)\n      .then(r => {\n        setImages([...images, ...r.hits]);\n        setTotalHits(r.totalHits);\n        ontotalHits(r.totalHits, images.length + 12);\n        if (page !== 1) {\n          pageDown();\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        setImages([]);\n        setError(true);\n        ontotalHits(null);\n      })\n      .finally(() => {\n        onloading();\n      });\n    //\n  }, [querry, page]);\n\n  return !error ? (\n    totalHits !== 0 ? (\n      images.map(image => (\n        <li className=\"ImageGalleryItem\" key={image.id}>\n          <img\n            onClick={onClick}\n            src={image.webformatURL}\n            data-src={image.largeImageURL}\n            alt={image.tags}\n            className=\"ImageGalleryItem-image\"\n          />\n        </li>\n      ))\n    ) : (\n      <h2 className=\"title\"> No match found ...</h2>\n    )\n  ) : (\n    <h2 className=\"title\"> Something goes wrong ... </h2>\n  );\n}\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({\n  querry,\n  page,\n  totalHits,\n  onClick,\n  loading,\n}) {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem\n        querry={querry}\n        page={page}\n        ontotalHits={totalHits}\n        onClick={onClick}\n        onloading={loading}\n      />\n    </ul>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onCloseModal }) {\n  useEffect(() => {\n    window.addEventListener('keydown', idEscapeEvent);\n\n    return () => {\n      window.removeEventListener('keydown', idEscapeEvent);\n    };\n  });\n\n  function idEscapeEvent(e) {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  }\n\n  function onBackdropClick(e) {\n    if (e.currentTarget === e.target) {\n      onCloseModal();\n    }\n  }\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={onBackdropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import React from 'react';\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className=\"Button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport SearchBar from './Components/Searchbar/SearchBar.jsx';\nimport ImageGallery from './Components/ImageGallery/ImageGallery.jsx';\nimport Modal from './Components/Modal/Modal';\nimport Button from './Components/Button/Button.jsx';\nimport Loader from 'react-loader-spinner';\n\nfunction App() {\n  const [querry, setQuerry] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState(null);\n  const [totalHits, setTotalHits] = useState(null);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [imgLength, setImgLength] = useState(null);\n\n  const toggleModal = () => {\n    setShowModal(state => !state);\n  };\n\n  const onImageClick = e => {\n    if ((e.target = 'IMG')) {\n      toggleModal();\n    }\n    setLargeImg(e.currentTarget.dataset.src);\n  };\n\n  const onSearchSubmit = querry => {\n    setQuerry(querry);\n    setPage(1);\n  };\n\n  const onTotalHits = (totalHits, imgLength) => {\n    totalHits === 0 ? setTotalHits(null) : setTotalHits(totalHits);\n    setImgLength(imgLength);\n  };\n  console.log('imgLength', imgLength);\n  console.log('totalHits', totalHits);\n\n  const onLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n  const onLoading = state => {\n    setLoading(state => !state);\n  };\n\n  return (\n    <div className=\"section\">\n      <SearchBar onSubmit={onSearchSubmit} />\n      {loading && (\n        <Loader\n          type=\"Bars\"\n          className=\"spinner\"\n          color=\"#00BFFF\"\n          height={50}\n          width={50}\n        />\n      )}\n      <ImageGallery\n        querry={querry}\n        page={page}\n        totalHits={onTotalHits}\n        onClick={onImageClick}\n        loading={onLoading}\n      />\n\n      {\n        (totalHits > 12,\n        totalHits > imgLength && <Button onLoadMore={onLoadMore} />)\n      }\n      {showModal && (\n        <Modal onCloseModal={toggleModal}>\n          <img src={largeImg} alt={querry} />\n          <button className=\"closeBtn\" type=\"button\" onClick={toggleModal}>\n            X\n          </button>\n        </Modal>\n      )}\n      <ToastContainer position=\"top-center\" autoClose={1500} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}